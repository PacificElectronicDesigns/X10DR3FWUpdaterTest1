<!DOCTYPE html>
<html>

<head>
    <title>X10DR3 Firmware Updater</title>
    <style>
        body {
            background-color: #02023e;
            color: rgb(218, 227, 241);
        }

        h1 {
            text-align: center;
        }

        p {
            text-align: center;
        }

        div {
            text-align: center;

            img {
                display: block;
                margin-left: auto;
                margin-right: auto;
            }
        }
    </style>
</head>

<body>

    <div style="text-align: center;">
        <img src="x10dr-logo-blackbackground.png" alt="X10DR Logo" style="width:50%;">
    </div>
    <br><br>
    <h1>X10DR3 Firmware Updater <br> Updated 2024-05-06</h1>

    <div id="main" style="display: none;">

        <br>
        <script type="module" src="https://unpkg.com/esp-web-tools@10/dist/web/install-button.js?module"></script>

        <esp-web-install-button id="installButton" manifest="webflash/manifest.json">
            <!-- <button slot="activate">Connect to X10DR3</button> -->
            <span slot="unsupported">Ah snap, your browser is not supported. Please try Chrome, Edge or Safari. You may
                need to allow Web Serial if asked.</span>
            <span slot="not-allowed">Ah snap, please allow HTTPS connections. Does not work with HTTP.</span>
        </esp-web-install-button>

        <esp-web-install-button id="installButton" manifest="webflash/manifestLED.json">
            <!-- <button slot="activate">X10DR3 LED Tester</button> -->
            <span slot="unsupported">Ah snap, your browser is not supported. Please try Chrome, Edge or Safari. You may
                need to allow Web Serial if asked.</span>
            <span slot="not-allowed">Ah snap, please allow HTTPS connections. Does not work with HTTP.</span>
        </esp-web-install-button>
        
        <br><br>
        <span> NOTE: For X10DR3 models only. Not compatible with other X10DR models.</span>
    </div>
    <div id="notSupported" style="display: none;">
        Your browser does not support the Web Serial API. Try Chrome
    </div>


    <script>
        if (navigator.serial) {
            document.getElementById("notSupported").style.display = 'none';
            document.getElementById("main").style.display = 'block';
        } else {
            document.getElementById("notSupported").style.display = 'block';
            document.getElementById("main").style.display = 'none';
        }
    </script>

</body>

</html>
